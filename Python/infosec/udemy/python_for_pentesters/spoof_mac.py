import random
import os
import subprocess

def get_random():
    return random.choice("abcdef01234567890")

def new_mac():
    new_ = ""
    for i in range(0,5):
        new_+=get_random()+get_random()+":"

    new_+=get_random()+get_random()
    return new_

print(os.system("ifconfig eth0 | grep ether | grep -oE [0-9abcdef:]{17}")
subprocess.call(["sudo","ifconfig","eth0","down"])
new_mac = new_mac()
subprocess.call(["sudo","ifconfig","eth0","hw","ether","%s"%new_mac])
subprocess.call(["sudo","ifconfig","eth0","up"])

print(os.system("ifconfig eth0 | grep ether | grep -oE [0-9abcdef:]{17}")